(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"+jAw":function(e,t,n){"use strict";n.d(t,"a",function(){return C});n("qVdP");var a=n("jsC+"),o=n("pVnL"),r=n.n(o),i=n("QILm"),c=n.n(i),l=n("lwsE"),s=n.n(l),u=n("W8MJ"),m=n.n(u),p=n("a1gu"),d=n.n(p),h=n("Nsbk"),g=n.n(h),f=n("7W2i"),y=n.n(f),v=n("q1tI"),M=n.n(v),E=n("TSYQ"),b=n.n(E),N=n("QyDn"),L=n.n(N),C=function(e){function t(){return s()(this,t),d()(this,g()(t).apply(this,arguments))}return y()(t,e),m()(t,[{key:"render",value:function(){var e=this.props,t=e.overlayClassName,n=c()(e,["overlayClassName"]);return M.a.createElement(a["a"],r()({overlayClassName:b()(L.a.container,t)},n))}}]),t}(v["PureComponent"])},"//E0":function(e,t,n){e.exports={geomConfigPanel:"antd-pro-pages-visualization-g-g-geom-config-panel-geomConfigPanel"}},"/JSK":function(e,t,n){e.exports={datasetTable:"antd-pro-components-dataset-dataset-table-index-datasetTable"}},"4Hzm":function(e,t,n){"use strict";n.r(t);n("jCWc");var a,o,r,i,c,l,s,u=n("kPKH"),m=(n("14J3"),n("BMrR")),p=n("lwsE"),d=n.n(p),h=n("W8MJ"),g=n.n(h),f=n("a1gu"),y=n.n(f),v=n("Nsbk"),M=n.n(v),E=n("7W2i"),b=n.n(E),N=n("q1tI"),L=n.n(N),C=n("MuoO"),k=n("zHco"),x=n("Pw9G"),j=(n("Znn+"),n("ZTPi")),w=(n("OaEy"),n("2fM7")),D=n("//E0"),S=n.n(D),O=w["a"].Option,T=function(e){function t(){return d()(this,t),y()(this,M()(t).apply(this,arguments))}return b()(t,e),g()(t,[{key:"render",value:function(){var e=this.props,t=e.geomKey,n=e.cols,a=e.handleUpdate,o=e.geomValues,r=[];n&&n.map(function(e){return r.push(e.key)});var i=r.map(function(e){return L.a.createElement(O,{key:e},e)}),c=["point","path","line","area","interval","polygon","schema","edge","heatmap"],l=c.map(function(e){return L.a.createElement(O,{key:e},e)}),s=["position","color","size","shape","opacity","label"],u=function(e,n,o,r){var i="please select ".concat(e),c=function(n){a(e,n,t)};return L.a.createElement(w["a"],{showSearch:!0,mode:o?"":"tags",placeholder:i,onChange:c,style:{width:"100%"},value:r},n)},m=o&&o.geometry?o.geometry:[],p=u("geometry",l,!0,m),d=s.map(function(e){var t=o&&o[e]?o[e]:[],n=u(e,i,!1,t);return L.a.createElement("li",{key:e},e,":",n)});return L.a.createElement("div",{className:S.a.geomConfigPanel},"geometry:",p,d)}}]),t}(N["PureComponent"]),I=T,P=n("4kUg"),z=n.n(P),A=w["a"].Option,Y=j["a"].TabPane,W=(a=Object(C["connect"])(function(e){var t=e.gg;return{gg:t}}),a((r=function(e){function t(e){var n;d()(this,t),n=y()(this,M()(t).call(this,e)),n.buildPanel=function(e,t){Object.entries(e).map(function(e){e[0];t.push({title:e[0],content:"",key:e[0]})})},n.onTabChange=function(e){n.setState({activeKey:e})},n.onTabEdit=function(e,t){n[t](e)},n.add=function(){var e=n.state.panes,t="Geom_".concat(n.newTabIndex++);e.push({title:"Geom".concat(n.newTabIndex),content:"",key:t}),n.setState({panes:e,activeKey:t})},n.remove=function(e){var t,a=n.props.dispatch,o=n.state.activeKey;n.state.panes.forEach(function(n,a){n.key===e&&(t=a-1)});var r=n.state.panes.filter(function(t){return t.key!==e});o=r.length&&o===e?t>=0?r[t].key:r[0].key:null,n.setState({panes:r,activeKey:o}),n.newTabIndex--,a({type:"gg/geomDelete",payload:e})},n.newTabIndex=0;var a=[],o=n.props.gg;return n.buildPanel(o.grammar.geom,a),n.state={activeKey:a[0].key,panes:a},n}return b()(t,e),g()(t,[{key:"render",value:function(){var e=this.props,t=e.gg,n=e.dispatch,a=t.currentDataset,o=[],r=function(e,t,a){var o={};o.key=a,o.value={},o.value[e]=t,n({type:"gg/geomUpdate",payload:o})},i=function(e){n({type:"gg/facadUpdate",payload:e})},c=function(e){n({type:"gg/coordUpdate",payload:e})},l=["rect","polar","theta","helix"],s=l.map(function(e){return L.a.createElement(A,{key:e},e)});a&&a.columns&&a.columns.map(function(e){o.push(L.a.createElement(A,{key:e.key},e.key))});var u=t.grammar.facad?t.grammar.facad:[],p=t.grammar.coordination?t.grammar.coordination:[],d=function(e){return t.grammar.geom[e]};return L.a.createElement("div",{className:z.a.grammarConfigPanel},L.a.createElement(m["a"],{gutter:16},"Facad:",L.a.createElement(w["a"],{mode:"tags",style:{width:"100%"},placeholder:"Please select facad",onChange:i,value:u},o)),L.a.createElement(m["a"],{gutter:16},"Coordination:",L.a.createElement(w["a"],{style:{width:"100%"},placeholder:"Please select coordination",onChange:c,value:p},s)),L.a.createElement(m["a"],{gutter:16},L.a.createElement(j["a"],{onChange:this.onTabChange,activeKey:this.state.activeKey,type:"editable-card",onEdit:this.onTabEdit,tabPosition:"top",style:{"margin-top":"10px"}},this.state.panes.map(function(e){return L.a.createElement(Y,{tab:e.title,key:e.key,closable:e.closable},L.a.createElement(I,{geomKey:e.key,geomValues:d(e.key),cols:a.columns,handleUpdate:r}))}))))}}]),t}(N["PureComponent"]),o=r))||o),H=W,K=n("yP6+"),Q=(n("9pbx"),i=Object(C["connect"])(function(e){var t=e.gg;return{gg:t}}),i(c=function(e){function t(){return d()(this,t),y()(this,M()(t).apply(this,arguments))}return b()(t,e),g()(t,[{key:"render",value:function(){var e=this.props.gg,t=e.grammar,n=e.currentDataset,a=n;console.log("render Viz"),console.log(t),console.log(a);var o=a.dataSource,r=t.coordination,i=function(){return r?L.a.createElement(K["Coord"],{type:r}):null},c=i(),l=function(e){return!(r&&"rect"!=r&&"polar"!=r||!e.position||2!=e.position.length)},s=function(e){var t=e.geometry,n="";e.position&&(n=e.position.join("*"));var a="";e.color&&e.color.length>0&&(a=e.color[0]);var o="";e.size&&e.size.length>0&&(o=e.size[0]);var r="";e.shape&&e.shape.length>0&&(r=e.shape[0]);var i="";e.opacity&&e.opacity.length>0&&(i=e.opacity[0]);var c=function(){if(e.label&&e.label.length>0){var t=e.label.join("*");return L.a.createElement(K["Label"],{content:t})}return null},l=c();return L.a.createElement(K["Geom"],{type:t,position:n,color:a,size:o,shape:r,opacity:i},l)},u=function(){if(!t.geom)return L.a.createElement("div",null);var e=[];return Object.entries(t.geom).map(function(t){var n=t[1];if(!l(n))return L.a.createElement("div",null);e.push(s(n))}),0===e.length?L.a.createElement("div",null):L.a.createElement("div",null,L.a.createElement(K["Chart"],{height:600,data:o,forceFit:!0},c,e))},m=u();return m}}]),t}(N["PureComponent"]))||c),B=Q,U=n("5v9Z"),F=n.n(U),V=(l=Object(C["connect"])(function(e){var t=e.gg,n=e.loading;return{gg:t,loading:n.effects["gg/fetch"]}}),l(s=function(e){function t(){return d()(this,t),y()(this,M()(t).apply(this,arguments))}return b()(t,e),g()(t,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"gg/fetch"})}},{key:"render",value:function(){var e=this.props,t=e.gg,n=(e.loading,e.dispatch),a=t.currentDataset,o=(a.dataSource,a.columns,function(e){console.log("selected ".concat(e)),n({type:"gg/fetchSelected",payload:e})});return L.a.createElement(k["a"],null,L.a.createElement("div",{className:F.a.gg},L.a.createElement(m["a"],{gutter:16},L.a.createElement(u["a"],{span:6},L.a.createElement(m["a"],null,"Dataset:",L.a.createElement(x["a"],{list:t.list,handleChange:o})))),L.a.createElement(m["a"],{gutter:16},L.a.createElement(u["a"],{span:6},L.a.createElement(H,null)),L.a.createElement(u["a"],{span:16},L.a.createElement(B,null)))))}}]),t}(N["PureComponent"]))||s);t["default"]=V},"4eFV":function(e,t,n){},"4kUg":function(e,t,n){e.exports={grammarConfigPanel:"antd-pro-pages-visualization-g-g-grammar-config-panel-grammarConfigPanel"}},"5v9Z":function(e,t,n){},"9pbx":function(e,t,n){},B0iY:function(e,t,n){e.exports={datasetListSelector:"antd-pro-components-dataset-dataset-list-selector-index-datasetListSelector"}},BsfW:function(e,t,n){e.exports={list:"antd-pro-components-notice-icon-notice-list-list",item:"antd-pro-components-notice-icon-notice-list-item",meta:"antd-pro-components-notice-icon-notice-list-meta",avatar:"antd-pro-components-notice-icon-notice-list-avatar",iconElement:"antd-pro-components-notice-icon-notice-list-iconElement",read:"antd-pro-components-notice-icon-notice-list-read",title:"antd-pro-components-notice-icon-notice-list-title",description:"antd-pro-components-notice-icon-notice-list-description",datetime:"antd-pro-components-notice-icon-notice-list-datetime",extra:"antd-pro-components-notice-icon-notice-list-extra",loadMore:"antd-pro-components-notice-icon-notice-list-loadMore",loadedAll:"antd-pro-components-notice-icon-notice-list-loadedAll",notFound:"antd-pro-components-notice-icon-notice-list-notFound",clear:"antd-pro-components-notice-icon-notice-list-clear"}},Dnn4:function(e,t,n){e.exports={content:"antd-pro-components-page-header-wrapper-index-content"}},G3lK:function(e,t,n){e.exports={headerSearch:"antd-pro-components-header-search-index-headerSearch",input:"antd-pro-components-header-search-index-input",show:"antd-pro-components-header-search-index-show"}},IGtV:function(e,t,n){e.exports={fixedHeader:"antd-pro-layouts-header-fixedHeader"}},JwhZ:function(e,t,n){e.exports={head:"antd-pro-components-top-nav-header-index-head",light:"antd-pro-components-top-nav-header-index-light",main:"antd-pro-components-top-nav-header-index-main",wide:"antd-pro-components-top-nav-header-index-wide",left:"antd-pro-components-top-nav-header-index-left",right:"antd-pro-components-top-nav-header-index-right",logo:"antd-pro-components-top-nav-header-index-logo",menu:"antd-pro-components-top-nav-header-index-menu"}},Kkfi:function(e,t,n){e.exports={menu:"antd-pro-components-select-lang-index-menu",dropDown:"antd-pro-components-select-lang-index-dropDown"}},Pw9G:function(e,t,n){"use strict";var a=n("lwsE"),o=n.n(a),r=n("W8MJ"),i=n.n(r),c=n("a1gu"),l=n.n(c),s=n("Nsbk"),u=n.n(s),m=n("7W2i"),p=n.n(m),d=(n("OaEy"),n("2fM7")),h=n("q1tI"),g=n.n(h),f=n("B0iY"),y=n.n(f),v=d["a"].Option,M=function(e){function t(){return o()(this,t),l()(this,u()(t).apply(this,arguments))}return p()(t,e),i()(t,[{key:"render",value:function(){var e=this.props,t=e.list,n=(e.dispatch,e.handleChange),a=e.size,o=function(e){console.log("blur")},r=function(e){console.log("focus")},i=t.map(function(e){return g.a.createElement(v,{key:e.id,value:e.id},e.name)});return g.a.createElement("div",{className:y.a.datasetListSelector},g.a.createElement(d["a"],{size:a,showSearch:!0,style:{width:"100%"},placeholder:"Select a dataset",optionFilterProp:"children",onChange:n,onFocus:r,onBlur:o,filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},i))}}]),t}(h["PureComponent"]);t["a"]=M},QyDn:function(e,t,n){e.exports={container:"antd-pro-components-header-dropdown-index-container"}},R1Dz:function(e,t,n){"use strict";var a=n("q1tI");t["a"]=Object(a["createContext"])()},RmFe:function(e,t,n){"use strict";n.r(t);n("14J3");var a=n("BMrR"),o=(n("jCWc"),n("kPKH")),r=n("lwsE"),i=n.n(r),c=n("W8MJ"),l=n.n(c),s=n("a1gu"),u=n.n(s),m=n("Nsbk"),p=n.n(m),d=n("7W2i"),h=n.n(d),g=n("q1tI"),f=n.n(g),y=n("zHco"),v=(n("Pwec"),n("CtXQ")),M=(n("miYZ"),n("tsqr")),E=(n("DZo9"),n("8z0m")),b=n("4eFV"),N=n.n(b),L=E["a"].Dragger,C=function(e){function t(){return i()(this,t),u()(this,p()(t).apply(this,arguments))}return h()(t,e),l()(t,[{key:"render",value:function(){var e={name:"file",multiple:!1,action:"//jsonplaceholder.typicode.com/posts/",onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?M["a"].success("".concat(e.file.name," file uploaded successfully.")):"error"===t&&M["a"].error("".concat(e.file.name," file upload failed."))}};return f.a.createElement("div",{className:N.a.datasetUploader},f.a.createElement(L,e,f.a.createElement("p",{className:"ant-upload-drag-icon"},f.a.createElement(v["a"],{type:"inbox"})),f.a.createElement("p",{className:"ant-upload-text"},"Click or drag file to this area to upload new dataset"),f.a.createElement("p",{className:"ant-upload-hint"},"Support for a single upload.")),",")}}]),t}(g["PureComponent"]),k=C,x=n("jwQY"),j=n.n(x),w=function(e){function t(){return i()(this,t),u()(this,p()(t).apply(this,arguments))}return h()(t,e),l()(t,[{key:"render",value:function(){return f.a.createElement(y["a"],null,f.a.createElement("div",{className:j.a.getDataIn},f.a.createElement(a["a"],{gutter:16},f.a.createElement(o["a"],{span:8},f.a.createElement(k,null)))))}}]),t}(g["PureComponent"]);t["default"]=w},"S/9j":function(e,t,n){"use strict";function a(e){var t=e.split("/").filter(function(e){return e});return t.map(function(e,n){return"/".concat(t.slice(0,n+1).join("/"))})}n.d(t,"a",function(){return a})},W660:function(e,t,n){e.exports={content:"antd-pro-layouts-basic-layout-content"}},bfXr:function(e,t,n){"use strict";n.d(t,"a",function(){return L});n("Pwec");var a=n("CtXQ"),o=(n("lUTK"),n("BvKs")),r=n("lwsE"),i=n.n(r),c=n("W8MJ"),l=n.n(c),s=n("a1gu"),u=n.n(s),m=n("Nsbk"),p=n.n(m),d=n("7W2i"),h=n.n(d),g=n("q1tI"),f=n.n(g),y=n("LLXN"),v=n("TSYQ"),M=n.n(v),E=n("+jAw"),b=n("Kkfi"),N=n.n(b),L=function(e){function t(){var e,n;i()(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(o))),n.changeLang=function(e){var t=e.key;Object(y["setLocale"])(t)},n}return h()(t,e),l()(t,[{key:"render",value:function(){var e=this.props.className,t=Object(y["getLocale"])(),n=["zh-CN","zh-TW","en-US","pt-BR"],r={"zh-CN":"\u7b80\u4f53\u4e2d\u6587","zh-TW":"\u7e41\u4f53\u4e2d\u6587","en-US":"English","pt-BR":"Portugu\xeas"},i={"zh-CN":"\ud83c\udde8\ud83c\uddf3","zh-TW":"\ud83c\udded\ud83c\uddf0","en-US":"\ud83c\uddec\ud83c\udde7","pt-BR":"\ud83c\udde7\ud83c\uddf7"},c=f.a.createElement(o["a"],{className:N.a.menu,selectedKeys:[t],onClick:this.changeLang},n.map(function(e){return f.a.createElement(o["a"].Item,{key:e},f.a.createElement("span",{role:"img","aria-label":r[e]},i[e])," ",r[e])}));return f.a.createElement(E["a"],{overlay:c,placement:"bottomRight"},f.a.createElement("span",{className:M()(N.a.dropDown,e)},f.a.createElement(a["a"],{type:"global",title:Object(y["formatMessage"])({id:"navBar.lang"})})))}}]),t}(g["PureComponent"])},btmg:function(e,t,n){e.exports={popover:"antd-pro-components-notice-icon-index-popover",noticeButton:"antd-pro-components-notice-icon-index-noticeButton",icon:"antd-pro-components-notice-icon-index-icon",badge:"antd-pro-components-notice-icon-index-badge",tabs:"antd-pro-components-notice-icon-index-tabs"}},ggcP:function(e,t,n){"use strict";var a=n("q1tI"),o=n.n(a),r=n("TSYQ"),i=n.n(r),c=n("wNoj"),l=n.n(c),s=function(e){var t=e.className,n=e.links,a=e.copyright,r=i()(l.a.globalFooter,t);return o.a.createElement("footer",{className:r},n&&o.a.createElement("div",{className:l.a.links},n.map(function(e){return o.a.createElement("a",{key:e.key,title:e.key,target:e.blankTarget?"_blank":"_self",href:e.href},e.title)})),a&&o.a.createElement("div",{className:l.a.copyright},a))};t["a"]=s},h3zL:function(e,t,n){e.exports={header:"antd-pro-components-global-header-index-header",logo:"antd-pro-components-global-header-index-logo",menu:"antd-pro-components-global-header-index-menu",trigger:"antd-pro-components-global-header-index-trigger",right:"antd-pro-components-global-header-index-right",action:"antd-pro-components-global-header-index-action",search:"antd-pro-components-global-header-index-search",account:"antd-pro-components-global-header-index-account",avatar:"antd-pro-components-global-header-index-avatar",dark:"antd-pro-components-global-header-index-dark",name:"antd-pro-components-global-header-index-name"}},jwQY:function(e,t,n){},"lh+i":function(e,t,n){e.exports={main:"antd-pro-components-page-header-wrapper-grid-content-main",wide:"antd-pro-components-page-header-wrapper-grid-content-wide"}},m8Tn:function(e,t,n){"use strict";n.r(t);var a=n("MVZn"),o=n.n(a),r=n("pVnL"),i=n.n(r),c=n("lwsE"),l=n.n(c),s=n("W8MJ"),u=n.n(s),m=n("a1gu"),p=n.n(m),d=n("Nsbk"),h=n.n(d),g=n("7W2i"),f=n.n(g),y=(n("B9cy"),n("Ol7k")),v=n("q1tI"),M=n.n(v),E=n("ZFw/"),b=n.n(E),N=n("Y+p1"),L=n.n(N),C=n("Wwog"),k=n("MuoO"),x=n("E6Dt"),j=n("TSYQ"),w=n.n(j),D=n("bALw"),S=n.n(D),O=n("lU33"),T=n("LLXN"),I=n("HZnN"),P=n("mxmt"),z=n.n(P),A=(n("Pwec"),n("CtXQ")),Y=n("ggcP"),W=y["a"].Footer,H=function(){return M.a.createElement(W,{style:{padding:0}},M.a.createElement(Y["a"],{links:[{key:"Dataplay3",title:"Dataplay3",href:"",blankTarget:!0},{key:"github",title:M.a.createElement(A["a"],{type:"github"}),href:"https://github.com/gangtao",blankTarget:!0},{key:"linkedin",title:M.a.createElement(A["a"],{type:"linkedin"}),href:"https://www.linkedin.com/in/taogang/",blankTarget:!0},{key:"codepen",title:M.a.createElement(A["a"],{type:"codepen"}),href:"https://codepen.io/gangtao/",blankTarget:!0},{key:"zhihu",title:M.a.createElement(A["a"],{type:"zhihu"}),href:"https://www.zhihu.com/people/gangtao/activities",blankTarget:!0}],copyright:M.a.createElement(v["Fragment"],null,"Copyright ",M.a.createElement(A["a"],{type:"copyright"})," 2019 gang.tao@outlook.com")}))},K=H,Q=(n("miYZ"),n("tsqr")),B=n("MFj2"),U=n("usdK"),F=n("U+yc"),V=n.n(F),R=n("mOP9"),Z=n("fqkP"),G=n.n(Z),J=n("h3zL"),q=n.n(J),X=(n("T2oS"),n("W9HT")),_=(n("Telt"),n("Tckk")),$=(n("5Dmo"),n("3S7+")),ee=(n("lUTK"),n("BvKs")),te=(n("+BJd"),n("mr32")),ne=n("J4zp"),ae=n.n(ne),oe=n("wd/R"),re=n.n(oe),ie=n("bt/X"),ce=n.n(ie),le=(n("Awhp"),n("KrTs")),se=(n("Znn+"),n("ZTPi")),ue=n("i8i4"),me=n.n(ue),pe=n("+jAw"),de=(n("cWXX"),n("/ezw")),he=(n("Mwp2"),n("VXEj")),ge=n("lSNA"),fe=n.n(ge),ye=n("RIqP"),ve=n.n(ye),Me=n("BsfW"),Ee=n.n(Me),be=null;function Ne(e){var t=e.data,n=void 0===t?[]:t,a=e.onClick,o=e.onClear,r=e.title,c=e.locale,l=e.emptyText,s=e.emptyImage,u=e.loading,m=e.onLoadMore,p=e.visible,d=e.loadedAll,h=void 0===d||d,g=e.scrollToLoad,f=void 0===g||g,y=e.showClear,v=void 0===y||y,E=e.skeletonCount,b=void 0===E?5:E,N=e.skeletonProps,L=void 0===N?{}:N;if(0===n.length)return M.a.createElement("div",{className:Ee.a.notFound},s?M.a.createElement("img",{src:s,alt:"not found"}):null,M.a.createElement("div",null,l||c.emptyText));var C=Array.from({length:u?b:0}).map(function(){return{loading:u}}),k=h?M.a.createElement("div",{className:w()(Ee.a.loadMore,Ee.a.loadedAll)},M.a.createElement("span",null,c.loadedAll)):M.a.createElement("div",{className:Ee.a.loadMore,onClick:m},M.a.createElement("span",null,c.loadMore)),x=function(e){if(f&&!u&&!h&&"function"===typeof m){var t=e.currentTarget;t.scrollHeight-t.scrollTop-t.clientHeight<=40&&(m(e),be=t)}};if(!p&&be)try{be.scrollTo(null,0)}catch(e){be=null}return M.a.createElement("div",null,M.a.createElement(he["a"],{className:Ee.a.list,loadMore:k,onScroll:x},[].concat(ve()(n),ve()(C)).map(function(e,t){var n=w()(Ee.a.item,fe()({},Ee.a.read,e.read)),o=e.avatar?"string"===typeof e.avatar?M.a.createElement(_["a"],{className:Ee.a.avatar,src:e.avatar}):M.a.createElement("span",{className:Ee.a.iconElement},e.avatar):null;return M.a.createElement(he["a"].Item,{className:n,key:e.key||t,onClick:function(){return a(e)}},M.a.createElement(de["a"],i()({avatar:!0,title:!1,active:!0},L,{loading:e.loading}),M.a.createElement(he["a"].Item.Meta,{className:Ee.a.meta,avatar:o,title:M.a.createElement("div",{className:Ee.a.title},e.title,M.a.createElement("div",{className:Ee.a.extra},e.extra)),description:M.a.createElement("div",null,M.a.createElement("div",{className:Ee.a.description,title:e.description},e.description),M.a.createElement("div",{className:Ee.a.datetime},e.datetime))})))})),v?M.a.createElement("div",{className:Ee.a.clear,onClick:o},c.clear," ",r):null)}var Le=n("btmg"),Ce=n.n(Le),ke=se["a"].TabPane,xe=function(e){function t(){var e,n;l()(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return n=p()(this,(e=h()(t)).call.apply(e,[this].concat(o))),n.state={visible:!1},n.onItemClick=function(e,t){var a=n.props.onItemClick,o=e.clickClose;a(e,t),o&&n.popover.click()},n.onClear=function(e){var t=n.props,a=t.onClear,o=t.clearClose;a(e),o&&n.popover.click()},n.onTabChange=function(e){var t=n.props.onTabChange;t(e)},n.onLoadMore=function(e,t){var a=n.props.onLoadMore;a(e,t)},n.handleVisibleChange=function(e){var t=n.props.onPopupVisibleChange;n.setState({visible:e}),t(e)},n}return f()(t,e),u()(t,[{key:"getNotificationBox",value:function(){var e=this,t=this.state.visible,n=this.props,a=n.children,o=n.loading,r=n.locale;if(!a)return null;var i=M.a.Children.map(a,function(n){var a=n.props,o=a.list,i=a.title,c=a.name,l=a.count,s=a.emptyText,u=a.emptyImage,m=a.showClear,p=a.loadedAll,d=a.scrollToLoad,h=a.skeletonCount,g=a.skeletonProps,f=a.loading,y=o&&o.length?o.length:0,v=l||0===l?l:y,E=v>0?"".concat(i," (").concat(v,")"):i;return M.a.createElement(ke,{tab:E,key:c},M.a.createElement(Ne,{data:o,emptyImage:u,emptyText:s,loadedAll:p,loading:f,locale:r,onClear:function(){return e.onClear(c)},onClick:function(t){return e.onItemClick(t,n.props)},onLoadMore:function(t){return e.onLoadMore(n.props,t)},scrollToLoad:d,showClear:m,skeletonCount:h,skeletonProps:g,title:i,visible:t}))});return M.a.createElement(v["Fragment"],null,M.a.createElement(X["a"],{spinning:o,delay:0},M.a.createElement(se["a"],{className:Ce.a.tabs,onChange:this.onTabChange},i)))}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.count,o=t.popupVisible,r=t.bell,c=this.state.visible,l=w()(n,Ce.a.noticeButton),s=this.getNotificationBox(),u=r||M.a.createElement(A["a"],{type:"bell",className:Ce.a.icon}),m=M.a.createElement("span",{className:w()(l,{opened:c})},M.a.createElement(le["a"],{count:a,style:{boxShadow:"none"},className:Ce.a.badge},u));if(!s)return m;var p={};return"popupVisible"in this.props&&(p.visible=o),M.a.createElement(pe["a"],i()({placement:"bottomRight",overlay:s,overlayClassName:Ce.a.popover,trigger:["click"],visible:c,onVisibleChange:this.handleVisibleChange},p,{ref:function(t){return e.popover=me.a.findDOMNode(t)}}),m)}}]),t}(v["PureComponent"]);xe.Tab=ke,xe.defaultProps={onItemClick:function(){},onPopupVisibleChange:function(){},onTabChange:function(){},onClear:function(){},loading:!1,clearClose:!1,locale:{emptyText:"No notifications",clear:"Clear",loadedAll:"Loaded",loadMore:"Loading more"},emptyImage:"https://gw.alipayobjects.com/zos/rmsportal/wAhyIChODzsoKIOBHcBk.svg"};n("O3gP");var je,we,De,Se,Oe,Te,Ie,Pe,ze=n("lrIw"),Ae=(n("5NDa"),n("5rEg")),Ye=n("QILm"),We=n.n(Ye),He=(n("17x9"),n("UjoV")),Ke=n.n(He),Qe=n("G3lK"),Be=n.n(Qe),Ue=(je=Ke()(),we=G()(500,{leading:!0,trailing:!1}),Oe=Se=function(e){function t(e){var n;return l()(this,t),n=p()(this,h()(t).call(this,e)),n.onKeyDown=function(e){if("Enter"===e.key){var t=n.props.onPressEnter,a=n.state.value;n.timeout=setTimeout(function(){t(a)},0)}},n.onChange=function(e){var t=n.props,a=t.onSearch,o=t.onChange;n.setState({value:e}),a&&a(e),o&&o(e)},n.enterSearchMode=function(){var e=n.props.onVisibleChange;e(!0),n.setState({searchMode:!0},function(){var e=n.state.searchMode;e&&n.input.focus()})},n.leaveSearchMode=function(){n.setState({searchMode:!1,value:""})},n.state={searchMode:e.defaultOpen,value:""},n}return f()(t,e),u()(t,null,[{key:"getDerivedStateFromProps",value:function(e){return"open"in e?{searchMode:e.open}:null}}]),u()(t,[{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"debouncePressEnter",value:function(){var e=this.props.onPressEnter,t=this.state.value;e(t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.placeholder,o=(t.open,We()(t,["className","placeholder","open"])),r=this.state,c=r.searchMode,l=r.value;delete o.defaultOpen;var s=w()(Be.a.input,fe()({},Be.a.show,c));return M.a.createElement("span",{className:w()(n,Be.a.headerSearch),onClick:this.enterSearchMode,onTransitionEnd:function(t){var n=t.propertyName;if("width"===n&&!c){var a=e.props.onVisibleChange;a(c)}}},M.a.createElement(A["a"],{type:"search",key:"Icon"}),M.a.createElement(ze["a"],i()({key:"AutoComplete"},o,{className:s,value:l,onChange:this.onChange}),M.a.createElement(Ae["a"],{ref:function(t){e.input=t},"aria-label":a,placeholder:a,onKeyDown:this.onKeyDown,onBlur:this.leaveSearchMode})))}}]),t}(v["PureComponent"]),Se.defaultProps={defaultActiveFirstOption:!1,onPressEnter:function(){},onSearch:function(){},onChange:function(){},className:"",placeholder:"",dataSource:[],defaultOpen:!1,onVisibleChange:function(){}},De=Oe,V()(De.prototype,"debouncePressEnter",[je,we],Object.getOwnPropertyDescriptor(De.prototype,"debouncePressEnter"),De.prototype),De),Fe=n("bfXr"),Ve=function(e){function t(){var e,n;l()(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return n=p()(this,(e=h()(t)).call.apply(e,[this].concat(o))),n.getUnreadData=function(e){var t={};return Object.entries(e).forEach(function(e){var n=ae()(e,2),a=n[0],o=n[1];t[a]||(t[a]=0),Array.isArray(o)&&(t[a]=o.filter(function(e){return!e.read}).length)}),t},n.changeReadState=function(e){var t=e.id,a=n.props.dispatch;a({type:"global/changeNoticeReadState",payload:t})},n.fetchMoreNotices=function(e){var t=e.list,a=e.name,o=n.props,r=o.dispatch,i=o.notices,c=void 0===i?[]:i,l=c[c.length-1].id;r({type:"global/fetchMoreNotices",payload:{lastItemId:l,type:a,offset:t.length}})},n}return f()(t,e),u()(t,[{key:"getNoticeData",value:function(){var e=this.props.notices,t=void 0===e?[]:e;if(0===t.length)return{};var n=t.map(function(e){var t=o()({},e);if(t.datetime&&(t.datetime=re()(e.datetime).fromNow()),t.id&&(t.key=t.id),t.extra&&t.status){var n={todo:"",processing:"blue",urgent:"red",doing:"gold"}[t.status];t.extra=M.a.createElement(te["a"],{color:n,style:{marginRight:0}},t.extra)}return t});return ce()(n,"type")}},{key:"render",value:function(){var e=this,t=this.props,n=t.currentUser,a=t.fetchingMoreNotices,o=t.fetchingNotices,r=t.loadedAllNotices,c=t.onNoticeVisibleChange,l=t.onMenuClick,s=t.onNoticeClear,u=t.skeletonCount,m=t.theme,p=M.a.createElement(ee["a"],{className:q.a.menu,selectedKeys:[],onClick:l},M.a.createElement(ee["a"].Item,{key:"userCenter"},M.a.createElement(A["a"],{type:"user"}),M.a.createElement(T["FormattedMessage"],{id:"menu.account.center",defaultMessage:"account center"})),M.a.createElement(ee["a"].Item,{key:"userinfo"},M.a.createElement(A["a"],{type:"setting"}),M.a.createElement(T["FormattedMessage"],{id:"menu.account.settings",defaultMessage:"account settings"})),M.a.createElement(ee["a"].Item,{key:"triggerError"},M.a.createElement(A["a"],{type:"close-circle"}),M.a.createElement(T["FormattedMessage"],{id:"menu.account.trigger",defaultMessage:"Trigger Error"})),M.a.createElement(ee["a"].Divider,null),M.a.createElement(ee["a"].Item,{key:"logout"},M.a.createElement(A["a"],{type:"logout"}),M.a.createElement(T["FormattedMessage"],{id:"menu.account.logout",defaultMessage:"logout"}))),d={skeletonCount:u,loadedAll:r,loading:a},h=this.getNoticeData(),g=this.getUnreadData(h),f=q.a.right;return"dark"===m&&(f="".concat(q.a.right,"  ").concat(q.a.dark)),M.a.createElement("div",{className:f},M.a.createElement(Ue,{className:"".concat(q.a.action," ").concat(q.a.search),placeholder:Object(T["formatMessage"])({id:"component.globalHeader.search"}),dataSource:[Object(T["formatMessage"])({id:"component.globalHeader.search.example1"}),Object(T["formatMessage"])({id:"component.globalHeader.search.example2"}),Object(T["formatMessage"])({id:"component.globalHeader.search.example3"})],onSearch:function(e){console.log("input",e)},onPressEnter:function(e){console.log("enter",e)}}),M.a.createElement($["a"],{title:Object(T["formatMessage"])({id:"component.globalHeader.help"})},M.a.createElement("a",{target:"_blank",href:"https://pro.ant.design/docs/getting-started",rel:"noopener noreferrer",className:q.a.action},M.a.createElement(A["a"],{type:"question-circle-o"}))),M.a.createElement(xe,{className:q.a.action,count:n.unreadCount,onItemClick:function(t,n){console.log(t,n),e.changeReadState(t,n)},locale:{emptyText:Object(T["formatMessage"])({id:"component.noticeIcon.empty"}),clear:Object(T["formatMessage"])({id:"component.noticeIcon.clear"}),loadedAll:Object(T["formatMessage"])({id:"component.noticeIcon.loaded"}),loadMore:Object(T["formatMessage"])({id:"component.noticeIcon.loading-more"})},onClear:s,onLoadMore:this.fetchMoreNotices,onPopupVisibleChange:c,loading:o,clearClose:!0},M.a.createElement(xe.Tab,i()({count:g.notification,list:h.notification,title:Object(T["formatMessage"])({id:"component.globalHeader.notification"}),name:"notification",emptyText:Object(T["formatMessage"])({id:"component.globalHeader.notification.empty"}),emptyImage:"https://gw.alipayobjects.com/zos/rmsportal/wAhyIChODzsoKIOBHcBk.svg"},d)),M.a.createElement(xe.Tab,i()({count:g.message,list:h.message,title:Object(T["formatMessage"])({id:"component.globalHeader.message"}),name:"message",emptyText:Object(T["formatMessage"])({id:"component.globalHeader.message.empty"}),emptyImage:"https://gw.alipayobjects.com/zos/rmsportal/sAuJeJzSKbUmHfBQRzmZ.svg"},d)),M.a.createElement(xe.Tab,i()({count:g.event,list:h.event,title:Object(T["formatMessage"])({id:"component.globalHeader.event"}),name:"event",emptyText:Object(T["formatMessage"])({id:"component.globalHeader.event.empty"}),emptyImage:"https://gw.alipayobjects.com/zos/rmsportal/HsIsxMZiWKrNUavQUXqx.svg"},d))),n.name?M.a.createElement(pe["a"],{overlay:p},M.a.createElement("span",{className:"".concat(q.a.action," ").concat(q.a.account)},M.a.createElement(_["a"],{size:"small",className:q.a.avatar,src:n.avatar,alt:"avatar"}),M.a.createElement("span",{className:q.a.name},n.name))):M.a.createElement(X["a"],{size:"small",style:{marginLeft:8,marginRight:8}}),M.a.createElement(Fe["a"],{className:q.a.action}))}}]),t}(v["PureComponent"]),Re=(Te=G()(600),Pe=function(e){function t(){var e,n;l()(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return n=p()(this,(e=h()(t)).call.apply(e,[this].concat(o))),n.toggle=function(){var e=n.props,t=e.collapsed,a=e.onCollapse;a(!t),n.triggerResizeEvent()},n}return f()(t,e),u()(t,[{key:"componentWillUnmount",value:function(){this.triggerResizeEvent.cancel()}},{key:"triggerResizeEvent",value:function(){var e=document.createEvent("HTMLEvents");e.initEvent("resize",!0,!1),window.dispatchEvent(e)}},{key:"render",value:function(){var e=this.props,t=e.collapsed,n=e.isMobile,a=e.logo;return M.a.createElement("div",{className:q.a.header},n&&M.a.createElement(R["a"],{to:"/",className:q.a.logo,key:"logo"},M.a.createElement("img",{src:a,alt:"logo",width:"32"})),M.a.createElement("span",{className:q.a.trigger,onClick:this.toggle},M.a.createElement(A["a"],{type:t?"menu-unfold":"menu-fold"})),M.a.createElement(Ve,this.props))}}]),t}(v["PureComponent"]),Ie=Pe,V()(Ie.prototype,"triggerResizeEvent",[Te],Object.getOwnPropertyDescriptor(Ie.prototype,"triggerResizeEvent"),Ie.prototype),Ie),Ze=n("oFg3"),Ge=n("pMM0"),Je=n("JwhZ"),qe=n.n(Je),Xe=function(e){function t(){var e,n;l()(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return n=p()(this,(e=h()(t)).call.apply(e,[this].concat(o))),n.state={maxWidth:void 0},n}return f()(t,e),u()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.theme,a=t.contentWidth,o=t.menuData,r=t.logo,c=this.state.maxWidth,l=Object(Ge["b"])(o);return M.a.createElement("div",{className:"".concat(qe.a.head," ").concat("light"===n?qe.a.light:"")},M.a.createElement("div",{ref:function(t){e.maim=t},className:"".concat(qe.a.main," ").concat("Fixed"===a?qe.a.wide:"")},M.a.createElement("div",{className:qe.a.left},M.a.createElement("div",{className:qe.a.logo,key:"logo",id:"logo"},M.a.createElement(R["a"],{to:"/"},M.a.createElement("img",{src:r,alt:"logo"}),M.a.createElement("h1",null,"Ant Design Pro"))),M.a.createElement("div",{style:{maxWidth:c}},M.a.createElement(Ze["default"],i()({},this.props,{flatMenuKeys:l,className:qe.a.menu})))),M.a.createElement(Ve,this.props)))}}],[{key:"getDerivedStateFromProps",value:function(e){return{maxWidth:("Fixed"===e.contentWidth?1200:window.innerWidth)-280-165-40}}}]),t}(v["PureComponent"]),_e=n("IGtV"),$e=n.n(_e),et=y["a"].Header,tt=function(e){function t(){var e,n;l()(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return n=p()(this,(e=h()(t)).call.apply(e,[this].concat(o))),n.state={visible:!0},n.getHeadWidth=function(){var e=n.props,t=e.isMobile,a=e.collapsed,o=e.setting,r=o.fixedHeader,i=o.layout;return t||!r||"topmenu"===i?"100%":a?"calc(100% - 80px)":"calc(100% - 256px)"},n.handleNoticeClear=function(e){Q["a"].success("".concat(Object(T["formatMessage"])({id:"component.noticeIcon.cleared"})," ").concat(Object(T["formatMessage"])({id:"component.globalHeader.".concat(e)})));var t=n.props.dispatch;t({type:"global/clearNotices",payload:e})},n.handleMenuClick=function(e){var t=e.key,a=n.props.dispatch;"userCenter"!==t?"triggerError"!==t?"userinfo"!==t?"logout"===t&&a({type:"login/logout"}):U["a"].push("/account/settings/base"):U["a"].push("/exception/trigger"):U["a"].push("/account/center")},n.handleNoticeVisibleChange=function(e){if(e){var t=n.props.dispatch;t({type:"global/fetchNotices"})}},n.handScroll=function(){var e=n.props.autoHideHeader,t=n.state.visible;if(e){var a=document.body.scrollTop+document.documentElement.scrollTop;n.ticking||(n.ticking=!0,requestAnimationFrame(function(){n.oldScrollTop>a?n.setState({visible:!0}):a>300&&t?n.setState({visible:!1}):a<300&&!t&&n.setState({visible:!0}),n.oldScrollTop=a,n.ticking=!1}))}},n}return f()(t,e),u()(t,[{key:"componentDidMount",value:function(){document.addEventListener("scroll",this.handScroll,{passive:!0})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("scroll",this.handScroll)}},{key:"render",value:function(){var e=this.props,t=e.isMobile,n=e.handleMenuCollapse,a=e.setting,o=a.navTheme,r=a.layout,c=a.fixedHeader,l=this.state.visible,s="topmenu"===r,u=this.getHeadWidth(),m=l?M.a.createElement(et,{style:{padding:0,width:u},className:c?$e.a.fixedHeader:""},s&&!t?M.a.createElement(Xe,i()({theme:o,mode:"horizontal",onCollapse:n,onNoticeClear:this.handleNoticeClear,onMenuClick:this.handleMenuClick,onNoticeVisibleChange:this.handleNoticeVisibleChange},this.props)):M.a.createElement(Re,i()({onCollapse:n,onNoticeClear:this.handleNoticeClear,onMenuClick:this.handleMenuClick,onNoticeVisibleChange:this.handleNoticeVisibleChange},this.props))):null;return M.a.createElement(B["a"],{component:"",transitionName:"fade"},m)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.autoHideHeader||t.visible?null:{visible:!0}}}]),t}(v["Component"]),nt=Object(k["connect"])(function(e){var t=e.user,n=e.global,a=e.setting,o=e.loading;return{currentUser:t.currentUser,collapsed:n.collapsed,fetchingMoreNotices:o.effects["global/fetchMoreNotices"],fetchingNotices:o.effects["global/fetchNotices"],loadedAllNotices:n.loadedAllNotices,notices:n.notices,setting:a}})(tt),at=n("R1Dz"),ot=n("luV/"),rt=function(){return M.a.createElement(ot["a"],{type:"403",desc:Object(T["formatMessage"])({id:"app.exception.description.403"}),linkElement:R["a"],backText:Object(T["formatMessage"])({id:"app.exception.back"})})},it=rt,ct=n("xqX8"),lt=(n("bbsP"),n("/wGt")),st=n("mR0u"),ut=n.n(st),mt=n("T+dw"),pt=M.a.lazy(function(){return Promise.resolve().then(n.bind(null,"oFg3"))}),dt=y["a"].Sider,ht=!0,gt=function(e){function t(e){var n;return l()(this,t),n=p()(this,h()(t).call(this,e)),n.isMainMenu=function(e){var t=n.props.menuData;return t.some(function(t){return!!e&&(t.key===e||t.path===e)})},n.handleOpenChange=function(e){var t=e.filter(function(e){return n.isMainMenu(e)}).length>1;n.setState({openKeys:t?[e.pop()]:ve()(e)})},n.state={openKeys:Object(Ge["a"])(e)},n}return f()(t,e),u()(t,[{key:"componentDidMount",value:function(){ht=!1}},{key:"render",value:function(){var e,t=this.props,n=t.logo,a=t.collapsed,o=t.onCollapse,r=t.fixSiderbar,c=t.theme,l=t.isMobile,s=this.state.openKeys,u=a?{}:{openKeys:s},m=w()(ut.a.sider,(e={},fe()(e,ut.a.fixSiderBar,r),fe()(e,ut.a.light,"light"===c),e));return M.a.createElement(dt,{trigger:null,collapsible:!0,collapsed:a,breakpoint:"lg",onCollapse:function(e){!ht&&l||o(e)},width:256,theme:c,className:m},M.a.createElement("div",{className:ut.a.logo,id:"logo"},M.a.createElement(R["a"],{to:"/"},M.a.createElement("img",{src:n,alt:"logo"}),M.a.createElement("h1",null,mt["title"]))),M.a.createElement(v["Suspense"],{fallback:M.a.createElement(ct["default"],null)},M.a.createElement(pt,i()({},this.props,{mode:"inline",handleOpenChange:this.handleOpenChange,onOpenChange:this.handleOpenChange,style:{padding:"16px 0",width:"100%"}},u))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.pathname,a=t.flatMenuKeysLen;return e.location.pathname!==n||e.flatMenuKeys.length!==a?{pathname:e.location.pathname,flatMenuKeysLen:e.flatMenuKeys.length,openKeys:Object(Ge["a"])(e)}:null}}]),t}(v["PureComponent"]),ft=M.a.memo(function(e){var t=e.isMobile,n=e.menuData,a=e.collapsed,o=e.onCollapse,r=Object(Ge["b"])(n);return t?M.a.createElement(lt["a"],{visible:!a,placement:"left",onClose:function(){return o(!0)},style:{padding:0,height:"100vh"}},M.a.createElement(gt,i()({},e,{flatMenuKeys:r,collapsed:!t&&a}))):M.a.createElement(gt,i()({},e,{flatMenuKeys:r}))}),yt=ft,vt=n("W660"),Mt=n.n(vt),Et=(M.a.lazy(function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,"PceP"))}),y["a"].Content),bt={"screen-xs":{maxWidth:575},"screen-sm":{minWidth:576,maxWidth:767},"screen-md":{minWidth:768,maxWidth:991},"screen-lg":{minWidth:992,maxWidth:1199},"screen-xl":{minWidth:1200,maxWidth:1599},"screen-xxl":{minWidth:1600}},Nt=function(e){function t(e){var n;return l()(this,t),n=p()(this,h()(t).call(this,e)),n.matchParamsPath=function(e,t){var n=Object.keys(t).find(function(t){return S()(t).test(e)});return t[n]},n.getRouterAuthority=function(e,t){var n=["noAuthority"],a=function e(t,a){return a.forEach(function(a){return a.path&&S()(a.path).test(t)?n=a.authority:a.routes&&(n=e(t,a.routes)),a}),n};return a(e,t)},n.getPageTitle=function(e,t){var a=n.matchParamsPath(e,t);if(!a)return mt["title"];var o=mt["menu"].disableLocal?a.name:Object(T["formatMessage"])({id:a.locale||a.name,defaultMessage:a.name});return"".concat(o," - ").concat(mt["title"])},n.getLayoutStyle=function(){var e=n.props,t=e.fixSiderbar,a=e.isMobile,o=e.collapsed,r=e.layout;return t&&"topmenu"!==r&&!a?{paddingLeft:o?"80px":"256px"}:null},n.handleMenuCollapse=function(e){var t=n.props.dispatch;t({type:"global/changeLayoutCollapsed",payload:e})},n.renderSettingDrawer=function(){return null},n.getPageTitle=Object(C["a"])(n.getPageTitle),n.matchParamsPath=Object(C["a"])(n.matchParamsPath,L.a),n}return f()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,n=e.route,a=n.routes,o=n.authority;t({type:"user/fetchCurrent"}),t({type:"setting/getSetting"}),t({type:"menu/getMenuData",payload:{routes:a,authority:o}})}},{key:"getContext",value:function(){var e=this.props,t=e.location,n=e.breadcrumbNameMap;return{location:t,breadcrumbNameMap:n}}},{key:"render",value:function(){var e=this,t=this.props,n=t.navTheme,a=t.layout,r=t.children,c=t.location.pathname,l=t.isMobile,s=t.menuData,u=t.breadcrumbNameMap,m=t.route.routes,p=t.fixedHeader,d="topmenu"===a,h=this.getRouterAuthority(c,m),g=p?{}:{paddingTop:0},f=M.a.createElement(y["a"],null,d&&!l?null:M.a.createElement(yt,i()({logo:z.a,theme:n,onCollapse:this.handleMenuCollapse,menuData:s,isMobile:l},this.props)),M.a.createElement(y["a"],{style:o()({},this.getLayoutStyle(),{minHeight:"100vh"})},M.a.createElement(nt,i()({menuData:s,handleMenuCollapse:this.handleMenuCollapse,logo:z.a,isMobile:l},this.props)),M.a.createElement(Et,{className:Mt.a.content,style:g},M.a.createElement(I["a"],{authority:h,noMatch:M.a.createElement(it,null)},r)),M.a.createElement(K,null)));return M.a.createElement(M.a.Fragment,null,M.a.createElement(b.a,{title:this.getPageTitle(c,u)},M.a.createElement(x["ContainerQuery"],{query:bt},function(t){return M.a.createElement(at["a"].Provider,{value:e.getContext()},M.a.createElement("div",{className:w()(t)},f))})),M.a.createElement(v["Suspense"],{fallback:M.a.createElement(ct["default"],null)},this.renderSettingDrawer()))}}]),t}(M.a.Component);t["default"]=Object(k["connect"])(function(e){var t=e.global,n=e.setting,a=e.menu;return o()({collapsed:t.collapsed,layout:n.layout,menuData:a.menuData,breadcrumbNameMap:a.breadcrumbNameMap},n)})(function(e){return M.a.createElement(O["a"],{query:"(max-width: 599px)"},function(t){return M.a.createElement(Nt,i()({},e,{isMobile:t}))})})},mR0u:function(e,t,n){e.exports={logo:"antd-pro-components-sider-menu-index-logo",sider:"antd-pro-components-sider-menu-index-sider",fixSiderBar:"antd-pro-components-sider-menu-index-fixSiderBar",light:"antd-pro-components-sider-menu-index-light",icon:"antd-pro-components-sider-menu-index-icon"}},mxmt:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gU3ZnIFZlY3RvciBJY29ucyA6IGh0dHA6Ly93d3cub25saW5ld2ViZm9udHMuY29tL2ljb24gLS0+DQo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMTAwMCAxMDAwIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAxMDAwIDEwMDAiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPG1ldGFkYXRhPiBTdmcgVmVjdG9yIEljb25zIDogaHR0cDovL3d3dy5vbmxpbmV3ZWJmb250cy5jb20vaWNvbiA8L21ldGFkYXRhPg0KPGc+PHBhdGggZD0iTTg3OC42LDc4OS41SDUyMi4zdjE1NS45aDI2Ny4zVjk5MEgyMTAuNHYtNDQuNmgyNjcuM1Y3ODkuNUgxMjEuNEM1OS45LDc4OS41LDEwLDczOS43LDEwLDY3OC4yVjEyMS4zQzEwLDU5LjksNTkuOSwxMCwxMjEuNCwxMGg3NTcuM0M5NDAuMSwxMCw5OTAsNTkuOSw5OTAsMTIxLjN2NTU2LjhDOTkwLDczOS43LDk0MC4xLDc4OS41LDg3OC42LDc4OS41TDg3OC42LDc4OS41TDg3OC42LDc4OS41eiBNOTQ1LjQsMTQzLjZjMC02MS41LTI3LjYtODkuMS04OS4xLTg5LjFIMTQzLjZjLTYxLjUsMC04OS4xLDI3LjYtODkuMSw4OS4xdjUxMi4zYzAsNjEuNSwyNy42LDg5LjEsODkuMSw4OS4xaDcxMi43YzYxLjUsMCw4OS4xLTI3LjYsODkuMS04OS4xTDk0NS40LDE0My42TDk0NS40LDE0My42TDk0NS40LDE0My42eiBNNzQ1LDM4OC42Yy0xNC40LDAtMjguMS0zLTQwLjctNy45TDYzMS45LDQ4NGMxNC44LDE1LjksMjQsMzcuMSwyNCw2MC41YzAsNDkuMi0zOS45LDg5LjEtODkuMSw4OS4xYy00OS4yLDAtODkuMS0zOS45LTg5LjEtODkuMWMwLTE0LjYsMy44LTI4LjEsMTAtNDAuM0wzODQuNiwzODUuN2MtNS45LDEuNy0xMS45LDIuOS0xOC4zLDIuOWMtNC43LDAtOS4zLTAuNS0xMy43LTEuNGwtODYuMiwxMjEuMWM2LjgsMTAuNCwxMC44LDIyLjgsMTAuOCwzNi4yYzAsMzYuOS0yOS45LDY2LjgtNjYuOCw2Ni44Yy0zNi45LDAtNjYuOS0yOS45LTY2LjktNjYuOGMwLTM2LjksMjkuOS02Ni44LDY2LjgtNjYuOGM3LjMsMCwxNC4xLDEuNCwyMC42LDMuNmw4My43LTExNy42Yy05LjMtMTEuNS0xNS4xLTI1LjktMTUuMS00MS45YzAtMzYuOSwyOS45LTY2LjksNjYuOC02Ni45czY2LjgsMjkuOSw2Ni44LDY2LjhjMCwxNC4yLTQuNSwyNy4zLTEyLDM4LjFsOTYuMiwxMTAuNWMxNC4xLTkuNCwzMS4xLTE1LDQ5LjQtMTVjOS42LDAsMTguNywxLjksMjcuNCw0LjdsNzIuNy0xMDMuN2MtMjAuNS0yMC4yLTMzLjItNDguMi0zMy4yLTc5LjJjMC02MS41LDQ5LjgtMTExLjMsMTExLjQtMTExLjNjNjEuNSwwLDExMS40LDQ5LjgsMTExLjQsMTExLjNDODU2LjQsMzM4LjgsODA2LjUsMzg4LjYsNzQ1LDM4OC42TDc0NSwzODguNkw3NDUsMzg4LjZ6IE0yMTAuNCw1MjIuM2MtMTIuMywwLTIyLjMsMTAtMjIuMywyMi4zYzAsMTIuMywxMCwyMi4zLDIyLjMsMjIuM2MxMi4zLDAsMjIuMy0xMCwyMi4zLTIyLjNDMjMyLjcsNTMyLjIsMjIyLjcsNTIyLjMsMjEwLjQsNTIyLjNMMjEwLjQsNTIyLjNMMjEwLjQsNTIyLjN6IE0zNjYuNCwyOTkuNWMtMTIuMywwLTIyLjMsOS45LTIyLjMsMjIuM2MwLDEyLjMsMTAsMjIuMywyMi4zLDIyLjNjMTIuMywwLDIyLjMtMTAsMjIuMy0yMi4zQzM4OC42LDMwOS41LDM3OC43LDI5OS41LDM2Ni40LDI5OS41TDM2Ni40LDI5OS41TDM2Ni40LDI5OS41eiBNNTY2LjgsNTAwYy0yNC42LDAtNDQuNSwyMC00NC41LDQ0LjVjMCwyNC42LDIwLDQ0LjYsNDQuNSw0NC42YzI0LjYsMCw0NC42LTIwLDQ0LjYtNDQuNkM2MTEuMyw1MjAsNTkxLjQsNTAwLDU2Ni44LDUwMEw1NjYuOCw1MDBMNTY2LjgsNTAweiBNNzQ1LDIxMC41Yy0zNi45LDAtNjYuOCwyOS45LTY2LjgsNjYuOGMwLDM2LjksMjkuOSw2Ni44LDY2LjgsNjYuOGMzNi45LDAsNjYuOC0yOS45LDY2LjgtNjYuOEM4MTEuOCwyNDAuNCw3ODEuOSwyMTAuNSw3NDUsMjEwLjVMNzQ1LDIxMC41TDc0NSwyMTAuNXoiLz48L2c+DQo8L3N2Zz4="},oFg3:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return O});var a=n("pVnL"),o=n.n(a),r=n("RIqP"),i=n.n(r),c=n("lwsE"),l=n.n(c),s=n("W8MJ"),u=n.n(s),m=n("a1gu"),p=n.n(m),d=n("Nsbk"),h=n.n(d),g=n("7W2i"),f=n.n(g),y=(n("Pwec"),n("CtXQ")),v=(n("lUTK"),n("BvKs")),M=n("q1tI"),E=n.n(M),b=n("TSYQ"),N=n.n(b),L=n("mOP9"),C=n("S/9j"),k=n("pMM0"),x=n("+n12"),j=n("mR0u"),w=n.n(j),D=v["a"].SubMenu,S=function(e){return"string"===typeof e&&Object(x["c"])(e)?E.a.createElement("img",{src:e,alt:"icon",className:w.a.icon}):"string"===typeof e?E.a.createElement(y["a"],{type:e}):e},O=function(e){function t(){var e,n;l()(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return n=p()(this,(e=h()(t)).call.apply(e,[this].concat(o))),n.getNavMenuItems=function(e,t){return e?e.filter(function(e){return e.name&&!e.hideInMenu}).map(function(e){return n.getSubMenuOrItem(e,t)}).filter(function(e){return e}):[]},n.getSelectedMenuKeys=function(e){var t=n.props.flatMenuKeys;return Object(C["a"])(e).map(function(e){return Object(k["c"])(t,e).pop()})},n.getSubMenuOrItem=function(e){if(e.children&&!e.hideChildrenInMenu&&e.children.some(function(e){return e.name})){var t=e.name;return E.a.createElement(D,{title:e.icon?E.a.createElement("span",null,S(e.icon),E.a.createElement("span",null,t)):t,key:e.path},n.getNavMenuItems(e.children))}return E.a.createElement(v["a"].Item,{key:e.path},n.getMenuItemPath(e))},n.getMenuItemPath=function(e){var t=e.name,a=n.conversionPath(e.path),o=S(e.icon),r=e.target;if(/^https?:\/\//.test(a))return E.a.createElement("a",{href:a,target:r},o,E.a.createElement("span",null,t));var i=n.props,c=i.location,l=i.isMobile,s=i.onCollapse;return E.a.createElement(L["a"],{to:a,target:r,replace:a===c.pathname,onClick:l?function(){s(!0)}:void 0},o,E.a.createElement("span",null,t))},n.conversionPath=function(e){return e&&0===e.indexOf("http")?e:"/".concat(e||"").replace(/\/+/g,"/")},n}return f()(t,e),u()(t,[{key:"render",value:function(){var e=this.props,t=e.openKeys,n=e.theme,a=e.mode,r=e.location.pathname,c=e.className,l=e.collapsed,s=this.getSelectedMenuKeys(r);!s.length&&t&&(s=[t[t.length-1]]);var u={};t&&!l&&(u={openKeys:0===t.length?i()(s):t});var m=this.props,p=m.handleOpenChange,d=m.style,h=m.menuData,g=N()(c,{"top-nav-menu":"horizontal"===a});return E.a.createElement(v["a"],o()({key:"Menu",mode:a,theme:n,onOpenChange:p,selectedKeys:s,style:d,className:g},u),this.getNavMenuItems(h))}}]),t}(M["PureComponent"])},pMM0:function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"c",function(){return s}),n.d(t,"a",function(){return u});var a=n("RIqP"),o=n.n(a),r=n("bALw"),i=n.n(r),c=n("S/9j"),l=function e(t){var n=[];return t.forEach(function(t){n.push(t.path),t.children&&(n=n.concat(e(t.children)))}),n},s=function(e,t){return e.filter(function(e){return!!e&&i()(e).test(t)})},u=function(e){var t=e.location.pathname,n=e.flatMenuKeys;return Object(c["a"])(t).map(function(e){return s(n,e)[0]}).filter(function(e){return e}).reduce(function(e,t){return[].concat(o()(e),[t])},["/"])}},tbSg:function(e,t,n){e.exports={pageHeader:"antd-pro-components-page-header-index-pageHeader",wide:"antd-pro-components-page-header-index-wide",detail:"antd-pro-components-page-header-index-detail",row:"antd-pro-components-page-header-index-row",breadcrumb:"antd-pro-components-page-header-index-breadcrumb",tabs:"antd-pro-components-page-header-index-tabs",logo:"antd-pro-components-page-header-index-logo",title:"antd-pro-components-page-header-index-title",action:"antd-pro-components-page-header-index-action",content:"antd-pro-components-page-header-index-content",extraContent:"antd-pro-components-page-header-index-extraContent",main:"antd-pro-components-page-header-index-main"}},wNoj:function(e,t,n){e.exports={globalFooter:"antd-pro-components-global-footer-index-globalFooter",links:"antd-pro-components-global-footer-index-links",copyright:"antd-pro-components-global-footer-index-copyright"}},xpHt:function(e,t,n){"use strict";n.r(t);n("jCWc");var a,o,r=n("kPKH"),i=(n("14J3"),n("BMrR")),c=n("lwsE"),l=n.n(c),s=n("W8MJ"),u=n.n(s),m=n("a1gu"),p=n.n(m),d=n("Nsbk"),h=n.n(d),g=n("7W2i"),f=n.n(g),y=n("q1tI"),v=n.n(y),M=n("MuoO"),E=n("zHco"),b=n("Pw9G"),N=(n("g9YV"),n("wCAj")),L=n("/JSK"),C=n.n(L),k=function(e){function t(){return l()(this,t),p()(this,h()(t).apply(this,arguments))}return f()(t,e),u()(t,[{key:"render",value:function(){var e=this.props,t=e.dataSource,n=e.columns,a=10,o=1300,r={};return n&&n.length>a&&(n[0].fixed="left",r={x:o}),v.a.createElement("div",{className:C.a.datasetTable},v.a.createElement(N["a"],{dataSource:t,columns:n,scroll:r}))}}]),t}(y["PureComponent"]),x=k,j=n("z+6q"),w=n.n(j),D=(a=Object(M["connect"])(function(e){var t=e.dataset,n=e.loading;return{dataset:t,loading:n.effects["dataset/fetch"]}}),a(o=function(e){function t(){return l()(this,t),p()(this,h()(t).apply(this,arguments))}return f()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"dataset/fetch"})}},{key:"render",value:function(){var e=this.props,t=e.dataset,n=(e.loading,e.dispatch),a=t.currentDataset,o=a.dataSource,c=a.columns,l=function(e){console.log("selected ".concat(e)),n({type:"dataset/fetchSelected",payload:e})};return v.a.createElement(E["a"],null,v.a.createElement("div",{className:w.a.dataset},v.a.createElement(i["a"],{gutter:16},v.a.createElement(r["a"],{span:8},v.a.createElement(i["a"],null,v.a.createElement(b["a"],{list:t.list,handleChange:l})))),v.a.createElement(i["a"],{gutter:16},v.a.createElement(r["a"],{span:20},v.a.createElement(x,{dataSource:o,columns:c})))))}}]),t}(y["PureComponent"]))||o);t["default"]=D},"z+6q":function(e,t,n){},zHco:function(e,t,n){"use strict";var a=n("pVnL"),o=n.n(a),r=n("QILm"),i=n.n(r),c=n("q1tI"),l=n.n(c),s=n("LLXN"),u=n("mOP9"),m=(n("cWXX"),n("/ezw")),p=n("lwsE"),d=n.n(p),h=n("W8MJ"),g=n.n(h),f=n("a1gu"),y=n.n(f),v=n("Nsbk"),M=n.n(v),E=n("7W2i"),b=n.n(E),N=(n("Znn+"),n("ZTPi")),L=n("TSYQ"),C=n.n(L),k=n("tbSg"),x=n.n(k),j=(n("sPJy"),n("bE4q")),w=n("lSNA"),D=n.n(w),S=n("bALw"),O=n.n(S),T=n("S/9j"),I=function(e,t){var n=e[t];return n||Object.keys(e).forEach(function(a){O()(a).test(t)&&(n=e[a])}),n||{}},P=function(e){function t(){var e,n;d()(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return n=y()(this,(e=M()(t)).call.apply(e,[this].concat(o))),n.state={breadcrumb:null},n.getBreadcrumbDom=function(){var e=n.conversionBreadcrumbList();n.setState({breadcrumb:e})},n.getBreadcrumbProps=function(){var e=n.props,t=e.routes,a=e.params,o=e.location,r=e.breadcrumbNameMap;return{routes:t,params:a,routerLocation:o,breadcrumbNameMap:r}},n.conversionFromProps=function(){var e=n.props,t=e.breadcrumbList,a=e.breadcrumbSeparator,o=e.itemRender,r=e.linkElement,i=void 0===r?"a":r;return l.a.createElement(j["a"],{className:x.a.breadcrumb,separator:a},t.map(function(e){var t=o?o(e):e.title;return l.a.createElement(j["a"].Item,{key:e.title},e.href?Object(c["createElement"])(i,D()({},"a"===i?"href":"to",e.href),t):t)}))},n.conversionFromLocation=function(e,t){var a=n.props,o=a.breadcrumbSeparator,r=a.home,i=a.itemRender,s=a.linkElement,u=void 0===s?"a":s,m=Object(T["a"])(e.pathname),p=m.map(function(e,n){var a=I(t,e);if(a.inherited)return null;var o=n!==m.length-1&&a.component,r=i?i(a):a.name;return a.name&&!a.hideInBreadcrumb?l.a.createElement(j["a"].Item,{key:e},Object(c["createElement"])(o?u:"span",D()({},"a"===u?"href":"to",e),r)):null});return r&&p.unshift(l.a.createElement(j["a"].Item,{key:"home"},Object(c["createElement"])(u,D()({},"a"===u?"href":"to","/"),r))),l.a.createElement(j["a"],{className:x.a.breadcrumb,separator:o},p)},n.conversionBreadcrumbList=function(){var e=n.props,t=e.breadcrumbList,a=e.breadcrumbSeparator,o=n.getBreadcrumbProps(),r=o.routes,i=o.params,c=o.routerLocation,s=o.breadcrumbNameMap;return t&&t.length?n.conversionFromProps():r&&i?l.a.createElement(j["a"],{className:x.a.breadcrumb,routes:r.filter(function(e){return e.breadcrumbName}),params:i,itemRender:n.itemRender,separator:a}):c&&c.pathname?n.conversionFromLocation(c,s):null},n.itemRender=function(e,t,a,o){var r=n.props.linkElement,i=void 0===r?"a":r,s=a.indexOf(e)===a.length-1;return s||!e.component?l.a.createElement("span",null,e.breadcrumbName):Object(c["createElement"])(i,{href:o.join("/")||"/",to:o.join("/")||"/"},e.breadcrumbName)},n}return b()(t,e),g()(t,[{key:"componentDidMount",value:function(){this.getBreadcrumbDom()}},{key:"componentDidUpdate",value:function(e){var t=this.props.location;if(t&&e.location){var n=e.location.pathname;n!==t.pathname&&this.getBreadcrumbDom()}}},{key:"render",value:function(){var e=this.state.breadcrumb;return e}}]),t}(c["PureComponent"]),z=N["a"].TabPane,A=function(e){function t(){var e,n;d()(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return n=y()(this,(e=M()(t)).call.apply(e,[this].concat(o))),n.onChange=function(e){var t=n.props.onTabChange;t&&t(e)},n}return b()(t,e),g()(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.logo,a=e.action,r=e.content,i=e.extraContent,c=e.tabList,s=e.className,u=e.tabActiveKey,p=e.tabDefaultActiveKey,d=e.tabBarExtraContent,h=e.loading,g=void 0!==h&&h,f=e.wide,y=void 0!==f&&f,v=e.hiddenBreadcrumb,M=void 0!==v&&v,E=C()(x.a.pageHeader,s),b={};return void 0!==p&&(b.defaultActiveKey=p),void 0!==u&&(b.activeKey=u),l.a.createElement("div",{className:E},l.a.createElement("div",{className:y?x.a.wide:""},l.a.createElement(m["a"],{loading:g,title:!1,active:!0,paragraph:{rows:3},avatar:{size:"large",shape:"circle"}},M?null:l.a.createElement(P,this.props),l.a.createElement("div",{className:x.a.detail},n&&l.a.createElement("div",{className:x.a.logo},n),l.a.createElement("div",{className:x.a.main},l.a.createElement("div",{className:x.a.row},t&&l.a.createElement("h1",{className:x.a.title},t),a&&l.a.createElement("div",{className:x.a.action},a)),l.a.createElement("div",{className:x.a.row},r&&l.a.createElement("div",{className:x.a.content},r),i&&l.a.createElement("div",{className:x.a.extraContent},i)))),c&&c.length?l.a.createElement(N["a"],o()({className:x.a.tabs},b,{onChange:this.onChange,tabBarExtraContent:d}),c.map(function(e){return l.a.createElement(z,{tab:e.tab,key:e.key})})):null)))}}]),t}(c["PureComponent"]),Y=n("MuoO"),W=n("lh+i"),H=n.n(W),K=function(e){function t(){return d()(this,t),y()(this,M()(t).apply(this,arguments))}return b()(t,e),g()(t,[{key:"render",value:function(){var e=this.props,t=e.contentWidth,n=e.children,a="".concat(H.a.main);return"Fixed"===t&&(a="".concat(H.a.main," ").concat(H.a.wide)),l.a.createElement("div",{className:a},n)}}]),t}(c["PureComponent"]),Q=Object(Y["connect"])(function(e){var t=e.setting;return{contentWidth:t.contentWidth}})(K),B=n("Dnn4"),U=n.n(B),F=n("R1Dz"),V=function(e){var t=e.children,n=e.contentWidth,a=e.wrapperClassName,r=e.top,c=i()(e,["children","contentWidth","wrapperClassName","top"]);return l.a.createElement("div",{style:{margin:"-24px -24px 0"},className:a},r,l.a.createElement(F["a"].Consumer,null,function(e){return l.a.createElement(A,o()({wide:"Fixed"===n,home:l.a.createElement(s["FormattedMessage"],{id:"menu.home",defaultMessage:"Home"})},e,{key:"pageheader"},c,{linkElement:u["a"],itemRender:function(e){return e.locale?l.a.createElement(s["FormattedMessage"],{id:e.locale,defaultMessage:e.title}):e.title}}))}),t?l.a.createElement("div",{className:U.a.content},l.a.createElement(Q,null,t)):null)};t["a"]=Object(Y["connect"])(function(e){var t=e.setting;return{contentWidth:t.contentWidth}})(V)}}]);